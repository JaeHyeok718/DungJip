<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
    <mapper namespace="memberMapper">
    
  		<resultMap type="member" id="memberResultSet">
  			<result column="USER_NO" property="userNo" />
  			<result column="USER_TYPE" property="userType"/>
  			<result column="USER_ID" property="userId"/>
    		<result column="USER_PWD" property="userPwd"/>
    		<result column="USER_NAME" property="userName"/>
    		<result column="USER_NICKNAME" property="userNickName"/>
    		<result column="AGE" property="age"/>
    		<result column="GENDER" property="gender"/>
    		<result column="EMAIL" property="email"/>
    		<result column="PHONE" property="phone"/>
    		<result column="ADDRESS" property="address"/>
    		<result column="PREFER_LOCATION" property="preferLocation"/>
    		<result column="PREFER_CHECK1" property="preferCheck1"/> 		
    		<result column="PREFER_CHECK2" property="preferCheck2"/>
    		<result column="PREFER_CHECK3" property="preferCheck3"/> 
    		<result column="STATUS" property="status"/>
    		<result column="ORIGIN_NAME" property="originName"/> 
    		<result column="CHANGE_NAME" property="changeName"/>
    		
  		</resultMap>
  		
  		
  		<select id="loginMember" parameterType="member" resultMap="memberResultSet">
  			SELECT *
			FROM MEMBER
			WHERE USER_ID = #{userId}
			AND STATUS = 'Y' 		
  		</select>
    	
    	<select id="ajaxIdMethod" resultType="_int">
    		SELECT COUNT(USER_ID) 
    		FROM MEMBER 
    		WHERE USER_ID = #{userId}    	
    	</select>	
  		
  		<insert id="insertMember" parameterType="member">
  			INSERT INTO MEMBER (USER_NO
  								,USER_TYPE                    
			                    ,USER_ID
			                    ,USER_PWD
			                    ,USER_NAME
			                    ,USER_NICKNAME
			                    ,EMAIL
			                    ,PHONE
			                    ,ORIGIN_NAME
			                    ,CHANGE_NAME)
			VALUES(SEQ_MNO.NEXTVAL
					,#{userType}
					,#{userId}
					,#{userPwd}
					,#{userName}
					,#{userNickName}
					,#{email}
					,#{phone}
					,#{originName}
					,#{changeName})
  		</insert>
    	
    </mapper>